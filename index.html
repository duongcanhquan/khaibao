<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cổng Đăng Ký - Cao Đẳng Việt Mỹ</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <style>
        /* --- STYLE NỀN & KHUNG --- */
        body {
            font-family: 'Montserrat', sans-serif;
            background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
            background-size: 400% 400%; animation: gradientBG 15s ease infinite;
            min-height: 100vh; padding: 20px 10px; color: #333;
        }
        @keyframes gradientBG { 0% {background-position:0% 50%} 50% {background-position:100% 50%} 100% {background-position:0% 50%} }
        
        .glass-container {
            max-width: 800px; margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(25px); -webkit-backdrop-filter: blur(25px);
            border-radius: 20px; box-shadow: 0 20px 60px rgba(0,0,0,0.2);
            overflow: hidden; border: 1px solid rgba(255,255,255,0.8);
        }

        /* --- HEADER MỚI (LOGO TO, TEXT NHỎ GỌN) --- */
        .header-section {
            background: white;
            padding: 30px 20px 20px;
            text-align: center;
            border-bottom: 5px solid #764ba2;
        }

        .logo-img {
            max-width: 100%;
            height: auto;
            width: 350px; /* Điều chỉnh độ to của logo tại đây */
            margin-bottom: 20px;
            filter: drop-shadow(0 4px 6px rgba(0,0,0,0.1));
        }

        .main-title {
            color: #764ba2;
            font-weight: 800;
            font-size: 2.2rem;
            text-transform: uppercase;
            margin-bottom: 15px;
            letter-spacing: 1px;
        }

        .school-info {
            font-size: 0.85rem;
            color: #555;
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            display: inline-block;
            width: 100%;
            border: 1px dashed #ccc;
        }

        .school-slogan {
            font-weight: 700;
            color: #d63031;
            text-transform: uppercase;
            margin-bottom: 8px;
            font-size: 0.8rem;
        }

        .contact-row {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
            font-weight: 600;
        }
        
        .contact-item i { color: #764ba2; margin-right: 5px; }

        /* --- FORM --- */
        .form-body { padding: 30px; }
        .form-section-title {
            color: #764ba2; font-weight: 700;
            margin: 25px 0 15px; border-bottom: 2px solid #eee;
            padding-bottom: 8px; text-transform: uppercase; font-size: 0.95rem;
        }
        
        .form-label { font-weight: 600; font-size: 0.85rem; margin-bottom: 4px; margin-left: 5px; }
        .required-star { color: red; }
        
        .form-control, .form-select {
            border-radius: 10px; padding: 10px 15px; border: 1px solid #ddd;
            background: #fdfdfd; font-size: 0.95rem;
        }
        .form-control:focus, .form-select:focus {
            border-color: #764ba2; box-shadow: 0 0 0 3px rgba(118, 75, 162, 0.15);
        }

        /* --- BUTTON --- */
        .btn-submit {
            background: linear-gradient(to right, #667eea, #764ba2); color: white;
            border: none; border-radius: 50px; padding: 14px; width: 100%;
            font-weight: 800; font-size: 1.1rem; letter-spacing: 1px;
            margin-top: 30px; box-shadow: 0 8px 20px rgba(118, 75, 162, 0.3);
            transition: all 0.3s;
        }
        .btn-submit:hover { transform: translateY(-3px); box-shadow: 0 12px 25px rgba(118, 75, 162, 0.4); }

        /* --- FOOTER --- */
        .footer-section {
            background: #f1f2f6; padding: 20px; font-size: 0.8rem;
            border-top: 1px solid #ddd; color: #666; text-align: center;
        }
        .footer-highlight { color: #d63031; font-weight: 700; }
        
        /* Mobile adjustments */
        @media (max-width: 576px) {
            .logo-img { width: 280px; }
            .main-title { font-size: 1.8rem; }
            .form-body { padding: 20px 15px; }
        }
    </style>
</head>
<body>

    <div class="glass-container animate__animated animate__fadeInUp">
        
        <div class="header-section">
            <img src="https://raw.githubusercontent.com/duongcanhquan/image/main/Logo%20Cao%20%C4%91a%CC%86%CC%89ng%20Vie%CC%A3%CC%82t%20My%CC%83%20-%20ba%CC%89n%20chua%CC%82%CC%89n%202025-01.png" alt="Logo Truong" class="logo-img">
            
            <h1 class="main-title">CỔNG ĐĂNG KÝ</h1>
            
            <div class="school-info">
                <div class="school-slogan">
                    TRƯỜNG CAO ĐẲNG THỰC HÀNH HÀNG ĐẦU TẠI MIỀN BẮC - ĐÀO TẠO ĐA NGÀNH NGHỀ<br>
                    HỖ TRỢ GIỚI THIỆU VIỆC LÀM SAU KHI RA TRƯỜNG CHO SINH VIÊN
                </div>
                <div class="contact-row">
                    <div class="contact-item"><i class="fas fa-map-marker-alt"></i> Số 168 Trịnh Văn Bô - Nam Từ Liêm - Hà Nội</div>
                    <div class="contact-item"><i class="fas fa-phone-volume"></i> Hotline: 024.7305.1212 - 098.285.6648</div>
                </div>
            </div>
        </div>

        <div class="form-body">
            <form id="registerForm" onsubmit="submitForm(event)">
                
                <div class="form-section-title"><i class="fas fa-user-circle me-2"></i>1. Thông tin thí sinh</div>
                <div class="row g-3">
                    <div class="col-md-8">
                        <label class="form-label">Họ và Tên (In hoa) <span class="required-star">*</span></label>
                        <input type="text" id="fullName" class="form-control" placeholder="NGUYỄN VĂN A" required>
                    </div>
                    <div class="col-md-4">
                        <label class="form-label">Ngày sinh <span class="required-star">*</span></label>
                        <input type="date" id="dob" class="form-control" required>
                    </div>

                    <div class="col-md-6">
                        <label class="form-label">Trường THPT / THCS <span class="required-star">*</span></label>
                        <input type="text" id="highSchool" class="form-control" placeholder="VD: THPT Cầu Giấy..." required>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label">Địa chỉ liên hệ <span class="required-star">*</span></label>
                        <input type="text" id="address" class="form-control" placeholder="Số nhà, đường, xã/phường..." required>
                    </div>

                    <div class="col-md-4">
                        <label class="form-label">Số điện thoại <span class="required-star">*</span></label>
                        <input type="tel" id="phone" class="form-control" placeholder="09xxxx..." required>
                    </div>
                    <div class="col-md-4">
                        <label class="form-label">Email</label>
                        <input type="email" id="email" class="form-control" placeholder="email@example.com">
                    </div>
                    <div class="col-md-4">
                        <label class="form-label">SĐT Bố/Mẹ <span class="required-star">*</span></label>
                        <input type="tel" id="motherPhone" class="form-control" placeholder="SĐT phụ huynh" required>
                    </div>
                </div>

                <div class="form-section-title"><i class="fas fa-graduation-cap me-2"></i>2. Đăng ký xét tuyển</div>
                <div class="row g-3">
                    <div class="col-md-6">
                        <label class="form-label">Là học sinh <span class="required-star">*</span></label>
                        <select id="situation" class="form-select" required>
                            <option value="">-- Lựa chọn --</option>
                            <option value="Học sinh lớp 9">Học sinh lớp 9</option>
                            <option value="Học sinh lớp 12">Học sinh lớp 12</option>
                            <option value="Đã tốt nghiệp THPT">Đã tốt nghiệp THPT</option>
                            <option value="Đang học TC,CĐ,ĐH khác">Đang học TC,CĐ,ĐH khác</option>
                        </select>
                    </div>
                    
                    <div class="col-md-6">
                         <label class="form-label">Hệ đào tạo <span class="required-star">*</span></label>
                         <select id="educationSystem" class="form-select" required>
                            <option value="Hệ Phổ thông Cao đẳng">Hệ Phổ thông Cao đẳng</option>
                            <option value="Hệ Cao đẳng Chính quy">Hệ Cao đẳng Chính quy</option>
                        </select>
                    </div>

                    <div class="col-md-6">
                        <label class="form-label">Ngành đăng ký <span class="required-star">*</span></label>
                        <select id="major" class="form-select text-primary fw-bold" required>
                            <option value="">-- Chọn Ngành Học --</option>
                            </select>
                    </div>

                    <div class="col-md-6">
                        <label class="form-label">Điểm TB Lớp 12 (hoặc Lớp 9) <span class="required-star">*</span></label>
                        <select id="scoreSelect" class="form-select" onchange="toggleScoreInput()" required>
                            <option value="">-- Lựa chọn --</option>
                            <option value="6.5-7.9">6.5 - 7.9</option>
                            <option value="8.0-9.0">8.0 - 9.0 (Tuyển thẳng)</option>
                            <option value="5.0-6.4">5.0 - 6.4</option>
                            <option value="other">Khác (Gõ vào)</option>
                        </select>
                        <input type="text" id="scoreInput" class="form-control mt-2 d-none animate__animated animate__fadeIn" placeholder="Nhập điểm cụ thể...">
                    </div>
                </div>

                <div class="form-section-title"><i class="fas fa-user-tie me-2"></i>3. Cán bộ hỗ trợ</div>
                <div class="bg-light p-3 rounded border border-dashed">
                    <label class="form-label">Thầy cô tư vấn <span class="required-star">*</span></label>
                    <select id="counselor" class="form-select fw-bold" required>
                        <option value="">-- Chọn Thầy/Cô --</option>
                        </select>
                </div>

                <button type="submit" id="btnSubmit" class="btn-submit">
                    <i class="fas fa-paper-plane me-2"></i>GỬI ĐĂNG KÝ
                </button>

            </form>
        </div>

        <div class="footer-section">
            <p class="mb-2"><span class="footer-highlight">* Lưu ý đặc biệt:</span> Thí sinh có học lực từ 8.0 trở lên sẽ được tuyển thẳng.</p>
            <p class="mb-2">Thông tin là do thí sinh đăng ký là cơ sở để Nhà trường xét tuyển. Nếu thông tin về điểm xét tuyển không chính xác, kết quả xét tuyển của thí sinh sẽ bị huỷ kể cả khi đã nhận được giấy báo trúng tuyển của Nhà trường.</p>
            <p class="mb-0 fw-bold">Kết quả xét tuyển sẽ được bảo lưu đến hết ngày 31/12/2025.</p>
        </div>

    </div>

    <script>
        // --- CẤU HÌNH ---
        // Thay link EXEC của bạn vào đây
        const API_URL = "https://script.google.com/macros/s/AKfycbxxub2As8XVtCFLHAkF9_3Y-C1GkzC_8Esh661vMxx68fJpQoviVGTjKyA0fZFbrzUY/exec"; 

        /* --- DANH SÁCH CỐ ĐỊNH (FIX LỖI "ĐANG TẢI") ---
           Để đảm bảo Web Github luôn chạy mượt mà không bị lỗi CORS/Loading,
           ta sẽ khai báo danh sách ngay tại đây. Bạn có thể sửa trực tiếp danh sách này.
        */

        const LIST_NGANH = [
            "Công nghệ thông tin",
            "Thiết kế đồ họa",
            "Quản trị kinh doanh",
            "Marketing thương mại",
            "Ngôn ngữ Anh",
            "Ngôn ngữ Hàn",
            "Du lịch - Khách sạn",
            "Chăm sóc sắc đẹp"
            // Bạn có thể thêm ngành mới vào đây
        ];

        const LIST_TU_VAN_VIEN = [
            "Cô Nguyễn Thị Lan (TVV01)",
            "Thầy Trần Văn Minh (TVV02)",
            "Cô Phạm Thu Hà (TVV03)",
            "Thầy Lê Hoàng (TVV04)",
            "Phòng Tuyển Sinh (Hotline)"
            // Thêm tư vấn viên mới vào đây
        ];

        // --- 1. HÀM KHỞI TẠO (CHẠY NGAY KHI MỞ WEB) ---
        document.addEventListener('DOMContentLoaded', () => {
            
            // Nạp danh sách Ngành
            const majorSel = document.getElementById('major');
            LIST_NGANH.forEach(m => {
                let opt = document.createElement("option");
                opt.value = m; opt.text = m;
                majorSel.add(opt);
            });

            // Nạp danh sách TVV
            const counSel = document.getElementById('counselor');
            LIST_TU_VAN_VIEN.forEach(c => {
                let opt = document.createElement("option");
                opt.value = c; opt.text = c;
                counSel.add(opt);
            });
        });

        // --- 2. XỬ LÝ GIAO DIỆN ĐIỂM SỐ ---
        function toggleScoreInput() {
            const select = document.getElementById('scoreSelect');
            const input = document.getElementById('scoreInput');
            if (select.value === 'other') {
                input.classList.remove('d-none');
                input.required = true;
                input.focus();
            } else {
                input.classList.add('d-none');
                input.required = false;
            }
        }

        // --- 3. GỬI FORM ---
        function submitForm(e) {
            e.preventDefault();
            const btn = document.getElementById('btnSubmit');
            const originalBtn = btn.innerHTML;
            btn.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>ĐANG KẾT NỐI...';
            btn.disabled = true;

            // Xử lý điểm số
            const scoreSelect = document.getElementById('scoreSelect').value;
            let finalScore = scoreSelect;
            if (scoreSelect === 'other') {
                finalScore = document.getElementById('scoreInput').value;
            }

            const data = {
                fullName: document.getElementById('fullName').value,
                dob: document.getElementById('dob').value,
                highSchool: document.getElementById('highSchool').value,
                address: document.getElementById('address').value,
                phone: document.getElementById('phone').value,
                email: document.getElementById('email').value,
                motherPhone: document.getElementById('motherPhone').value,
                
                situation: document.getElementById('situation').value,
                educationSystem: document.getElementById('educationSystem').value,
                major: document.getElementById('major').value,
                score: finalScore,
                counselor: document.getElementById('counselor').value
            };

            fetch(API_URL, {
                method: 'POST',
                mode: 'no-cors', // Bắt buộc
                body: JSON.stringify(data),
                headers: {'Content-Type': 'application/json'}
            })
            .then(() => {
                Swal.fire({
                    icon: 'success',
                    title: 'ĐĂNG KÝ THÀNH CÔNG!',
                    html: `Chúc mừng <b>${data.fullName}</b> đã hoàn thành đăng ký.<br>Nhà trường sẽ liên hệ qua SĐT: <b>${data.phone}</b>.`,
                    confirmButtonColor: '#764ba2'
                }).then(() => {
                    document.getElementById('registerForm').reset();
                    document.getElementById('scoreInput').classList.add('d-none');
                    btn.innerHTML = originalBtn;
                    btn.disabled = false;
                });
            })
            .catch(err => {
                Swal.fire('Lỗi', 'Không kết nối được máy chủ.', 'error');
                btn.innerHTML = originalBtn;
                btn.disabled = false;
            });
        }
    </script>
</body>
</html>
